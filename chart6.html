<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chart 6 – Map of speeding fines by jurisdiction</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css folder/styles.css">
  <link rel="stylesheet" href="css folder/visualisation.css">
</head>

<body>
  <!-- Accessibility: Skip link for keyboard users -->
  <a class="skip-link" href="#main">Skip to content</a>

  <!-- Site header containing brand and navigation menu -->
  <header class="site-header">
    <div class="container header-inner">

      <!-- Brand icon and dashboard name -->
      <div class="brand">
        <span class="brand-mark"><i class="fa-solid fa-gauge-high"></i></span>
        <span class="brand-text">Speeding Dashboard</span>
      </div>

      <!-- Navigation bar linking to different dashboard pages -->
      <nav class="nav">
        <ul>
          <li><a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a></li>
          <li><a href="chart4.html"><i class="fa-solid fa-chart-pie"></i><span>Fine Sources</span></a></li>
          <li><a href="chart1.html"><i class="fa-solid fa-chart-line"></i><span>Yearly Trends</span></a></li>
          <li><a href="chart2.html"><i class="fa-solid fa-chart-line"></i><span>Jurisdiction Trends</span></a></li>
          <li><a href="chart3.html"><i class="fa-solid fa-chart-bar"></i><span>Fine Rates per Capita</span></a></li>
          <li><a class="active" href="chart6.html"><i class="fa-solid fa-map"></i><span>Enforcement Map</span></a></li>
          <li><a href="about_us.html"><i class="fa-solid fa-circle-info"></i><span>About Us</span></a></li>
        </ul>
      </nav>

    </div>
  </header>

  <main id="main">
    <section class="section">
      <div class="container">

        <!-- Page heading + short description -->
        <h1>How do speeding fines and enforcement methods vary by jurisdiction across Australia?</h1>
        <p>
          This interactive map shows the primary enforcement method used in each state and territory, 
          together with the total number and mix of speeding fines. Use the year slider to move from 
          2008–2024, hover over a region to see its breakdown, and compare the pie chart and table 
          on the right to understand how methods change across time and location.
        </p>

        <!-- Chart container (map + controls + supporting charts) -->
        <div class="chart6-row">

          <!-- LEFT COLUMN: map + slider -->
          <div id="chart6-container">

            <!-- Year slider and arrow buttons -->
            <div class="chart6-year-control">
              <button id="chart6-prev-year" class="chart6-year-btn" aria-label="Previous year">
                <i class="fa-solid fa-chevron-left"></i>
              </button>

              <div class="chart6-year-slider-shell">
                <input id="chart6-year-slider" type="range">
                <div id="chart6-year-label">2008</div>
              </div>

              <button id="chart6-next-year" class="chart6-year-btn" aria-label="Next year">
                <i class="fa-solid fa-chevron-right"></i>
              </button>
            </div>

            <!-- Map container (D3 will render the SVG here) -->
            <div class="chart6-map-shell">
              <button id="chart6-fullscreen-btn" class="chart6-fs-btn" aria-label="Expand map">
                <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
              </button>
              <svg id="chart6-svg"></svg>
            </div>
          </div>

          <!-- RIGHT COLUMN: pie chart + jurisdiction breakdown -->
          <div class="chart6-right-column">

            <!-- Pie chart container (D3 renders the SVG here) -->
            <div class="chart6-pie-wrapper">
              <div id="chart6-pie-title" class="chart6-pie-title">
                Australia enforcement mix (2008)
              </div>
              <svg id="chart6-pie-svg"></svg>
            </div>

            <!-- Jurisdiction table container -->
            <div class="chart6-list-card">
              <div class="chart6-list-title">Jurisdiction-Level Fine Breakdown</div>
              <div id="chart6-list" class="chart6-list"></div>
            </div>

          </div>
        </div>

      </div>
    </section>
  </main>

  <!-- Site footer -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <span>@COS30045 Data Visualisation Project</span>
      <span>by Cheryl and Cindy</span>
    </div>
  </footer>

  <!-- D3.js library -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

  <!-- TopoJSON library for rendering geographic shapes -->
  <script src="https://unpkg.com/topojson-client@3"></script>

  <!-- JavaScript file for Chart 6 -->
  <script src="js folder/chart6.js"></script>

  <!-- Initialising Chart 6 with the correct container + dataset -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      initChart6({
        csvPath: "data folder/Chart6.csv",
        topoJsonPath: "data folder/australia_states.json",
        svgSelector: "#chart6-svg",
        sliderSelector: "#chart6-year-slider",
        labelSelector: "#chart6-year-label"
      });
    });
  </script>

</body>
</html>
